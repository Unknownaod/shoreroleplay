<!DOCTYPE html>
<html lang="en">
<head>
  <title>Shore Roleplay | Rules</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:"Inter",sans-serif;
      background:#05070a;
      color:#fff;
      overflow-x:hidden;
    }

    /* NAV */
    nav{
      display:flex;justify-content:space-between;align-items:center;
      padding:18px 70px;
      background:rgba(0,0,0,.35);backdrop-filter:blur(18px);
      border-bottom:1px solid rgba(255,255,255,.08);
      position:fixed;top:0;width:100%;z-index:1000;
    }
    nav a,nav span{
      color:#fff;text-decoration:none;margin-right:32px;
      font-weight:500;transition:.25s;cursor:pointer;
    }
    nav a:hover{color:#4ea3ff;text-shadow:0 0 12px #4ea3ff}
    .active-page{opacity:1;color:#4ea3ff;text-shadow:0 0 10px #4ea3ff}
    .nav-links{display:flex;gap:32px}

    /* USER CONTROLS */
    .user-controls{
      display:flex;gap:14px;align-items:center;font-size:14px;
    }
    .user-btn{
      padding:6px 14px;border-radius:4px;border:1px solid rgba(255,255,255,.28);
      background:rgba(255,255,255,.05);color:#fff;font-weight:500;cursor:pointer;transition:.25s;
    }
    .user-btn:hover{background:rgba(255,255,255,.18)}
    .logout-btn{
      background:#4ea3ff;border-color:#4ea3ff;
    }
    .logout-btn:hover{filter:brightness(1.07)}

    /* HERO */
    .hero{
      height:60vh;background:url('https://i.imgur.com/vbt5BPF.jpeg') center/cover no-repeat fixed;
      display:flex;justify-content:center;align-items:center;flex-direction:column;
      text-align:center;padding-top:60px;
    }
    .hero h1{
      font-size:4rem;font-weight:700;text-shadow:0 0 28px rgba(78,163,255,.45);
    }
    .hero p{margin-top:12px;font-size:1.2rem;opacity:.84;max-width:700px}

    /* CONTENT */
    .rules-container{
      max-width:1000px;margin:80px auto 60px;padding:45px;
      background:#090c12;border:1px solid rgba(255,255,255,.08);
      border-radius:14px;box-shadow:0 0 35px rgba(0,0,0,.55);
    }
    .section-title{
      margin-top:40px;font-size:1.6rem;font-weight:700;color:#4ea3ff;
      border-left:4px solid #4ea3ff;padding-left:12px;text-transform:uppercase;
    }
    ul{margin:14px 0 0 24px}
    li{margin:8px 0;font-size:1.05rem;opacity:.9}

    footer{padding:25px;text-align:center;opacity:.65;margin-top:35px;font-size:14px}
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <div class="nav-links">
    <a href="index.html">Home</a>
    <span class="active-page">Rules</span>
    <a href="departments.html">Departments</a>
    <a href="apply.html">Apply</a>
    <a href="forums.html">Forums</a>
    <a href="staff.html">Staff Panel</a>
  </div>

  <div id="userControls" class="user-controls"></div>
</nav>

<!-- HERO -->
<section class="hero">
  <h1>Server Rules</h1>
  <p>All players are expected to operate within these guidelines at all times.</p>
</section>

<!-- RULES -->
<section class="rules-container">

  <h2 class="section-title">1 — Community Conduct</h2>
  <ul>
    <li>Respect all members and staff at all times.</li>
    <li>No harassment, hate speech, bullying, or discrimination.</li>
    <li>Staff instructions must be followed without argument.</li>
  </ul>

  <h2 class="section-title">2 — Roleplay Standards</h2>
  <ul>
    <li>No FailRP, trolling, or unrealistic behavior.</li>
    <li>No metagaming, powergaming, or exploiting.</li>
    <li>Maintain realism and story progression.</li>
  </ul>

  <h2 class="section-title">3 — Crime & Combat</h2>
  <ul>
    <li>No RDM/VDM.</li>
    <li>Major crime requires proper RP justification.</li>
    <li>Your character must value their life.</li>
  </ul>

  <h2 class="section-title">4 — Vehicles & Pursuits</h2>
  <ul>
    <li>No unrealistic vehicles unless approved.</li>
    <li>Pursuits must make logical RP sense.</li>
  </ul>

  <h2 class="section-title">5 — Discord Requirements</h2>
  <ul>
    <li>You must remain in the official Discord.</li>
    <li>Impersonation of staff or departments results in removal.</li>
  </ul>

  <h2 class="section-title">6 — Enforcement</h2>
  <ul>
    <li>Rule violations may result in warnings or bans.</li>
    <li>Staff decisions are final.</li>
  </ul>

</section>

<footer>© 2025 Shore Roleplay — All Rights Reserved</footer>

<script>
const API = "https://shoreroleplay.onrender.com";
const user = JSON.parse(localStorage.getItem("shoreUser"));
const box = document.getElementById("userControls");

/* BAN CHECK — uses correct backend route /users/:id */
async function checkBan() {
  if (!user) return;

  try {
    const res = await fetch(`${API}/users/${user.id}`);
    const data = await res.json();

    if (data.banned) {
      localStorage.setItem("shoreBanReason", data.banReason || "No reason provided");
      localStorage.removeItem("shoreUser");
      location.href = "banned.html";
    }
  } catch(err) {}
}

/* DISPLAY NAV STATE */
function renderNav() {
  if (!user) {
    box.innerHTML = `
      <button class="user-btn" onclick="location.href='login.html'">Login</button>
      <button class="user-btn logout-btn" onclick="location.href='register.html'">Register</button>
    `;
  } else {
    box.innerHTML = `
      Logged in as <strong>${user.username}</strong>
      <button class="user-btn" onclick="location.href='profile.html?user=${user.username}'">Profile</button>
      <button class="user-btn" onclick="location.href='settings.html'">Settings</button>
      <button class="user-btn logout-btn" onclick="logout()">Logout</button>
    `;
  }
}

function logout() {
  localStorage.removeItem("shoreUser");
  location.reload();
}

renderNav();
checkBan();
</script>

</body>
</html>
